
<ion-content class="has-header" overflow-scroll="false" has-bouncing="true"  style="--ion-background-color:#e9e6e6;">
 
  <ion-card class="header-card-style" style="--ion-background-color:#ffffff; padding: 0 10px;margin-top: 35px;">


    <img src="assets/logo_arem.png"/>


    <ion-label style=" margin-top: 2.5%;" >

      <div style="padding-bottom: 7.5px;
      border-bottom: 1px solid rgba(255,255,255, 0.8);
      margin-left: 5px;">
        <p style=" font-size: 16px;
        text-transform: capitalize;
        margin-left: 0;"></p>
        <h1 style="margin-left: 0; font-size: 14px;">Bienvenue à Arem Group</h1>
      </div>
        <p style="margin-top: 15px; margin-top: 1.5px;
        font-weight: unset; font-size: 11px;">Demandes de remorquage</p>
           </ion-label>
           <ion-icon class="largeIcon" name="close-outline" style="margin-top: -105px; color: rgb(255, 255, 255);position: absolute;margin-left: 85%;"  (click)="logout()"></ion-icon>

    
</ion-card>

  <ion-refresher slot="fixed" (ionRefresh)="doRefresh($event)">
    <ion-refresher-content></ion-refresher-content>
  </ion-refresher>
<ion-card style="--ion-background-color:#f5f4f4;">
<ion-list *ngFor="let request of requests" >
  <ion-card class="card-style" >
    <div class="card-content">
      <img src="assets/logo_arem.png">
      <ion-label >
        <h2 style="text-transform: lowercase; text-transform: capitalize;">{{request.firstName+" "}}{{request.lastName}}</h2>
        <p>{{request.email}}</p>
        <div [ngClass]="(request.state === 1)?'resolved-status-bg':'unresolved-status-bg'">{{request.state === 1 ? 'Traitée' : 'Non Traitée'}}</div>

      </ion-label>
    </div>


    <div class="card-info">
      <ion-label>
        <h2>Téléphone</h2>
        <p>{{request.tel}}</p>
      </ion-label>
    </div>
    <div class="card-info">
      <ion-label style="margin-top: 45px;">
        <h2>Véhicule </h2><br>
        <p style="margin-top: -15px;">{{request.vehicule}}</p>
      </ion-label>
    </div>
    <div class="card-info">
      <ion-label style="margin-left: 160px;">
        <h2>Localisation </h2><br>
        <p style="margin-top: -15px;">{{request.location}}</p>
      </ion-label>
    </div>
    <div class="card-info">
      <ion-label style="margin-left: 160px;margin-top: 46px;">
        <h2>Date et Heure </h2><br>
        <p style="margin-top: -15px;">{{request.date}}</p>
      </ion-label>
    </div>
    <div class="card-info">
      <ion-label style="margin-top: 90px;">
        <h2>Batterie </h2><br>
        <p style="margin-top: -15px;">{{request.vehicule}}</p>
      </ion-label>
    </div>
    <div style="position: absolute; border-left: 1px solid rgb(126, 126, 126);margin-left: 165px;margin-top: 85px;
    height: 135px;"></div>

    <div>
      <ion-chip class="btn-card" style="text-transform: lowercase; text-transform: capitalize;background-color: rgb(235, 250, 219);border-color: white;" (click)="openDial(request)" outline color="primary"  >
        <ion-icon name="call-outline" style="padding-left: 10px;"></ion-icon>
        <ion-label >Appeler</ion-label>
      </ion-chip>

    </div>
    </ion-card>
  </ion-list>

</ion-card>



</ion-content>
<ion-fab-button *ngIf="admin === true" style="margin-right: 15px; position: absolute ; right:0;bottom:0;margin-bottom: 10px;" (click)="openModal()" >
  <ion-icon name="add-outline"></ion-icon>
</ion-fab-button>